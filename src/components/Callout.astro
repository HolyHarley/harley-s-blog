---
interface Props {
    type?: "info" | "warning" | "error" | "tip";
    title?: string;
}

const { type = "info", title } = Astro.props;

const icons = {
    info: "‚ÑπÔ∏è",
    warning: "‚ö†Ô∏è",
    error: "üö´",
    tip: "üí°",
};

const colors = {
    info: "var(--color-info, #3b82f6)",
    warning: "var(--color-warning, #eab308)",
    error: "var(--color-error, #ef4444)",
    tip: "var(--color-success, #22c55e)",
};

const bgColors = {
    info: "var(--color-info-bg, rgba(59, 130, 246, 0.1))",
    warning: "var(--color-warning-bg, rgba(234, 179, 8, 0.1))",
    error: "var(--color-error-bg, rgba(239, 68, 68, 0.1))",
    tip: "var(--color-success-bg, rgba(34, 197, 94, 0.1))",
};
---

<div
    class={`callout ${type}`}
    style={`--callout-color: ${colors[type]}; --callout-bg: ${bgColors[type]}`}
>
    <div class="icon">{icons[type]}</div>
    <div class="content">
        {title && <div class="title">{title}</div>}
        <slot />
    </div>
</div>

<style>
    .callout {
        display: flex;
        gap: 1rem;
        padding: 1rem;
        border-radius: 8px;
        background-color: var(--callout-bg);
        border-left: 4px solid var(--callout-color);
        margin: 1.5rem 0;
    }

    .icon {
        font-size: 1.5rem;
        line-height: 1;
        padding-top: 0.2rem;
    }

    .content {
        flex: 1;
        min-width: 0;
        color: var(--color-text, #f1f5f9);
    }

    .title {
        font-weight: bold;
        margin-bottom: 0.5rem;
        color: var(--callout-color);
    }
</style>
