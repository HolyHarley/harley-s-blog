---
import Layout from "../../layouts/Layout.astro";

// 記事を自動でリスト化
const posts = (await Astro.glob("./*.{md,mdx}")).sort(
    (a, b) =>
        new Date(b.frontmatter.pubDate).valueOf() -
        new Date(a.frontmatter.pubDate).valueOf(),
);
---

<Layout title="Blog Posts">
    <div class="container" style="padding: 4rem 1.5rem;">
        <h1 class="page-title">ブログ記事一覧</h1>
        <div class="grid">
            {
                posts.map((post) => (
                    <article class="card">
                        <h2>
                            <a href={post.url}>{post.frontmatter.title}</a>
                        </h2>
                        <p class="excerpt">
                            {post.frontmatter.description ||
                                "説明はありません。"}
                        </p>
                        <a href={post.url} class="read-more">
                            記事を読む &rarr;
                        </a>
                    </article>
                ))
            }
        </div>
    </div>
</Layout>

<style>
    .page-title {
        font-size: 2.5rem;
        margin-bottom: 2rem;
        text-align: center;
    }

    .grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
    }

    .card {
        background: var(--color-surface);
        border: 1px solid var(--color-border);
        border-radius: var(--radius-lg);
        padding: 2rem;
        transition: var(--transition-base);
    }

    .card:hover {
        transform: translateY(-4px);
        border-color: var(--color-primary);
        box-shadow: var(--shadow-lg);
    }

    .card h2 {
        font-size: 1.5rem;
        margin-bottom: 1rem;
    }

    .card h2 a {
        color: var(--color-text);
        text-decoration: none;
    }

    .card h2 a:hover {
        color: var(--color-primary);
    }

    .excerpt {
        color: var(--color-text-muted);
        margin-bottom: 1.5rem;
        line-height: 1.6;
    }

    .read-more {
        font-weight: 600;
        color: var(--color-primary);
        display: inline-flex;
        align-items: center;
    }

    .read-more:hover {
        color: var(--color-primary-hover);
        text-decoration: underline;
    }
</style>
